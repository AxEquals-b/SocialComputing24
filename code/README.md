## 基于votes数据的社交网络构造

### 对于votes数据的预处理

训练集/测试集划分：TODO

- 对原始的votes数据使用`(bill_id, date)`作为key进行聚合，得到每一次表决的支持者/反对者/弃权者列表（一般而言，每次提案共有100个成员会参与表决）;
- 将聚合后的votes数据按时间排序，并按一定粒度（年/月/日/按数据量等比例划分等）分割成若干时间序的子集。

### 静态社交网络构建

对于某一个votes子集，其中包含若干次投票表决。我们定义两个`member`节点$a, b$之间的相似度$C(a, b)$为：

$C(a, b) = YY(a, b) + NN(a, b) - YN(a, b) - NY(a, b)$

其中，$YN(a, b)$ 表示在这几次投票表决中$a$投赞成票且$b$投反对票的次数。$YY, NN, NY$同理。

显然的， $C(a, a)$ 则表示在这几次表决中$a$成员投票的总次数（不考虑弃权）。

进一步的，我们定义投票时$b$对$a$的影响因子$I(a, b)$为：

$I(a, b) = C(a, b) / C(a, a)$

例如，a总共投票10次，其中6次与b意见相同，1次与b意见相反。则b对a的影响因子为$\frac{6-1}{10} = 0.5$。

使用$I(a, b)$作为边权重，即可定义一个成员间的社交网络。在该网络中，任意节点总是倾向与与其正权邻居做出相同决策，而与其负权邻居做出相反决策。

值得注意的是：

1. 在不同votes子集上分别构建的不同网络之间没有关系（但时间上临近的网络间会表现出一定相似性）；
2. 一个votes子集内参与投票的成员一般只有一小部分，一个典型值是550/1748;
3. 基于上述定义的图显然是稠密的: 参与投票的成员之间一定会形成一个完全图，因为其意见要么相同，要么相反，因而影响因子一般不为0；
4. $C(a, b) = C(b, a)$，但$I(a, b)$没有这样的对称性。这是个合理的设计，原因略；

基于上述第3点原因，可以在构造图时进行筛选，对每个节点只保留其权重前k大的出边。

### 动态社交网络构建

为解决前述静态社交网络的第1点问题，需建立相邻社交网络间的联系，即时间轴上相邻的两个社交网络，靠后的部分应受到靠前的部分影响。

此处使用两个思路：

1. 将前一个网络的边按一定比例衰减后加到下一个网络上；
2. 考虑邻居的邻居对节点的影响，在节点与其邻居的邻居之间建立边；

